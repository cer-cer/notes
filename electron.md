# Install

## 1. unable to get local issuer certificate
This is validation for me.
```
set NODE_TLS_REJECT_UNAUTHORIZED=0
```
answer from here (https://stackoverflow.com/questions/36494336/npm-install-error-unable-to-get-local-issuer-certificate)

## 2. RequestError: read ECONNRESET

Set the electron mirror to `taobao`.
```
export ELECTRON_MIRROR=https://npm.taobao.org/mirrors/electron/
```
but `taobao` haven't version `16.07` (please check the version by yourself).

## 3. download
Indicat the `electron` when donwload.

```
npm install --save-dev electron@16.0.6 --verbose
```

## 4. output

```
> electron@16.0.6 postinstall /Users/xxx/prj/my-electron/node_modules/electron
> node install.js

(node:10812) Warning: Setting the NODE_TLS_REJECT_UNAUTHORIZED environment variable to '0' makes TLS connections and HTTPS requests insecure by disabling certificate verification.
(Use `node --trace-warnings ...` to show where the warning was created)
npm verb lifecycle electron@16.0.6~postinstall: unsafe-perm in lifecycle true
npm verb lifecycle electron@16.0.6~postinstall: PATH
```

## 5. add `start` in `package.json`.
## 6. add resource in app.
## 7. run electron example.
https://www.electronjs.org/zh/docs/latest/tutorial/quick-start


# Debug in vscode
refer : https://vscode-debug-specs.github.io/javascript_electron/ or fork (https://github.com/cer-cer/javascript_electron)
## add file in `.vscode/launch.json`, it can be generated by vscode automatic.
## debug main process
- add section like
```
"configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Main Process",
      "runtimeExecutable": "${workspaceRoot}/node_modules/.bin/electron",
      "program": "${workspaceRoot}/index.js",
      "runtimeArgs": [
        ".",
        // this args for attaching render process
        "--remote-debugging-port=9222"
      ],
      "windows": {
        "runtimeExecutable": "${workspaceRoot}/node_modules/.bin/electron.cmd"
      },
      "protocol": "legacy"
    }
  ]
```

`"--remote-debugging-port=9222"` tell node.js will launch chrome and debug port is 9222.

## debug render process.
add attach section to `configurations`.
```
{
      "type": "chrome",
      "request": "attach",
      "name": "Attach to Render Process",
      "port": 9222,
      "webRoot": "${workspaceRoot}/html"
    }
```

## all `launch` like:

```
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Main Process",
      "runtimeExecutable": "${workspaceRoot}/node_modules/.bin/electron",
      "program": "${workspaceRoot}/index.js",
      "runtimeArgs": [
        ".",
        // this args for attaching render process
        "--remote-debugging-port=9222"
      ],
      "windows": {
        "runtimeExecutable": "${workspaceRoot}/node_modules/.bin/electron.cmd"
      },
      "protocol": "legacy"
    },
    {
      "type": "chrome",
      "request": "attach",
      "name": "Attach to Render Process",
      "port": 9222,
      "webRoot": "${workspaceRoot}/html"
    }
  ]
}
```

## how to..
- click `vscode` debug pannel, run `debug in main process`. you can check the main process debug (add breakpoint).
- switch to `attach render process`. check the terminate is also in `reder process`. check the render process can be debug.

